"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[526],{526:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var o=n(433),a=n(439),r=n(791),i="movies_movies__6mFDm",c="movies_form__3yC8H",s="movies_input__I0YNc",u="movies_button__-PwtX",l="movies_moviesList__moZIJ",m="movies_moviesItem__OaL3e",h=n(87),f=n(689),v=n(184),_=function(){var e,t=(0,r.useState)([]),n=(0,a.Z)(t,2),_=n[0],d=n[1],p=(0,r.useState)(""),j=(0,a.Z)(p,2),I=j[0],y=j[1],N=(0,h.lr)({}),g=(0,a.Z)(N,2),b=g[0],J=g[1],x=null!==(e=b.get("query"))&&void 0!==e?e:"",O=(0,f.TH)();(0,r.useEffect)((function(){""!==x&&Y()}),[]);var Y=function(){fetch("https://api.themoviedb.org/3/search/movie?query=".concat(x,"&include_adult=false&language=en-US&page=1"),{method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlYzU0Y2I3MjliYTc5OWE4NGNiOGRhOWYzYjNjMmVkYiIsInN1YiI6IjY0NzRhNGQ5OTQwOGVjMDBlMTRkODI0MCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.jM0pFTGW4Ag5RFeZbbYFfkH78J8eInez-TSfyWolnBg"}}).then((function(e){return e.json()})).then((function(e){var t=e.results;if(!t.length)return y("Sorry, there are no movies matching your search query. Please try again."),void d([]);d((0,o.Z)(t))})).catch((function(e){return console.error(e)}))};return(0,v.jsxs)("div",{className:i,children:[(0,v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),Y(),e.currentTarget.reset()},className:c,children:[(0,v.jsx)("input",{className:s,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movie",value:b.query,onChange:function(e){var t=e.target.value;J(""!==t?{query:t.toLowerCase()}:{})}}),(0,v.jsx)("button",{tipe:"submit",className:u,children:"Search"})]}),I&&(0,v.jsx)("p",{children:I}),(0,v.jsx)("ul",{className:l,children:_.map((function(e,t){return(0,v.jsx)("li",{className:m,children:(0,v.jsx)(h.OL,{to:"/movies/".concat(e.id),state:{from:O},children:e.title})},"".concat(e.id,"_").concat(t))}))})]})}}}]);
//# sourceMappingURL=526.dce36e19.chunk.js.map